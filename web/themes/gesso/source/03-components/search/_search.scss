// @file
// Component: c-search
@use '00-config' as *;

$search-font-size: rem(gesso-font-size(9));

.c-search {
  bottom: 100%;
  position: absolute;
  right: rem(gesso-site-margins(desktop));
  z-index: 1;

  .is-sticky & {
    position: static;
  }
}

.c-search__form {
  @include layout-full-bleed;
  background-color: gesso-color(background, mega-menu);
  border-top: 1px solid rgba(#2e2929, 0.3);
  bottom: 100%;
  box-shadow: gesso-box-shadow(1);
  padding: rem(gesso-spacing(10)) 0 rem(gesso-spacing(6));
  position: fixed;
  transform: translate3d(0, calc(100% + var(--gesso-header-current-height)), 0);
}

.c-search__inner {
  position: relative;
}

.c-search__input {
  @include focus();
  border: 1px solid gesso-grayscale(black);
  border-radius: 4px;
  box-shadow: none;
  font-size: $search-font-size;
  font-weight: gesso-font-weight(light);
  line-height: gesso-line-height(base);
  padding: rem(gesso-spacing(0.5)) rem(gesso-spacing(1.5));
  width: 100%;
}

.c-search__button,
.c-search__submit {
  @include text-button;

  &:hover {
    color: gesso-color(text, link-hover);
  }
}

.c-search__button {
  z-index: 4;
}

.c-search__submit {
  font-size: $search-font-size - 0.5rem;
  position: absolute;
  right: calc(#{rem(gesso-spacing(1.5))} + 1px);
  top: calc(#{rem(gesso-spacing(0.5))} + 1px + 0.25rem);
}

.c-search__fieldset {
  display: flex;
  font-size: rem(gesso-font-size(3));
  gap: rem(gesso-spacing(2.5));
  padding: rem(gesso-spacing(2.5)) 0;

  input {
    height: 1em;
    vertical-align: middle;
    width: 1em;
  }

  label {
    display: inline-block;
    font-weight: gesso-font-weight(bold);
    vertical-align: middle;
  }

  .c-icon {
    color: gesso-color(ui, generic, accent);
  }
}

.c-search__links {
  border-top: 1px solid gesso-color(ui, generic, border);
  display: flex;
  justify-content: space-between;
  margin-top: rem(gesso-spacing(8));
  padding-top: rem(gesso-spacing(2.5));

  a {
    text-decoration-color: currentColor;
    text-decoration-thickness: 1px;
  }

  .c-icon {
    color: inherit;
  }
}
